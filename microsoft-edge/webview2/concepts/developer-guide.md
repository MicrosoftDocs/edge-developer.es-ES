---
description: Obtenga información sobre los procedimientos recomendados de desarrollo que se deben usar al desarrollar la aplicación WebView2.
title: Procedimientos recomendados de desarrollo de WebView2
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 05/06/2021
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: WebView2, webview2, WebView, webview, edge, procedimientos recomendados
ms.openlocfilehash: 3982f47e0fe58287582915673d4ba0de0365a55d
ms.sourcegitcommit: 777b16ef10363f2dfd755f115ee2d4c81a8de46f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/07/2021
ms.locfileid: "11535660"
---
# <a name="webview2-development-best-practices"></a><span data-ttu-id="f953b-104">Procedimientos recomendados de desarrollo de WebView2</span><span class="sxs-lookup"><span data-stu-id="f953b-104">WebView2 development best practices</span></span>  

<span data-ttu-id="f953b-105">Cada equipo de desarrollo sigue diferentes prácticas al compilar su aplicación.</span><span class="sxs-lookup"><span data-stu-id="f953b-105">Every development team follows different practices when building their application.</span></span> <span data-ttu-id="f953b-106">Al crear aplicaciones webView2, hay prácticas que se recomienda seguir.</span><span class="sxs-lookup"><span data-stu-id="f953b-106">When you build WebView2 applications, there are practices we recommend you follow.</span></span> <span data-ttu-id="f953b-107">En este artículo se describen las recomendaciones y los procedimientos recomendados para usted al crear aplicaciones WebView2 basadas en producción.</span><span class="sxs-lookup"><span data-stu-id="f953b-107">This article outlines those recommendations and best practices for you when building production-based WebView2 applications.</span></span>


## <a name="use-evergreen-webview2-runtime-recommended"></a><span data-ttu-id="f953b-108">Usar Evergreen WebView2 Runtime (recomendado)</span><span class="sxs-lookup"><span data-stu-id="f953b-108">Use Evergreen WebView2 Runtime (recommended)</span></span>  

<span data-ttu-id="f953b-109">Aunque La versión fija tiene sus casos de uso para aplicaciones que tienen requisitos de compatibilidad estrictos, se recomienda usar Evergreen WebView2 Runtime.</span><span class="sxs-lookup"><span data-stu-id="f953b-109">While Fixed Version has its use cases for apps that have strict compatibility requirements, we generally recommend using the Evergreen WebView2 Runtime.</span></span>  <span data-ttu-id="f953b-110">Evergreen WebView2 Runtime se actualiza automáticamente e incluye las últimas características y revisiones de seguridad disponibles para la aplicación WebView2.</span><span class="sxs-lookup"><span data-stu-id="f953b-110">The Evergreen WebView2 Runtime updates automatically and includes the latest features and security patches available to your WebView2 application.</span></span> <span data-ttu-id="f953b-111">Evergreen WebView2 Runtime también requiere menos espacio de almacenamiento en el disco.</span><span class="sxs-lookup"><span data-stu-id="f953b-111">The Evergreen WebView2 Runtime also requires less storage space on the disk.</span></span>

<span data-ttu-id="f953b-112">Asegúrese de que Evergreen WebView2 Runtime está instalado antes de usar la aplicación WebView2.</span><span class="sxs-lookup"><span data-stu-id="f953b-112">Ensure the Evergreen WebView2 Runtime is installed before using your WebView2 application.</span></span>  <span data-ttu-id="f953b-113">Para obtener más información, vaya [a Deploying the Evergreen WebView2 Runtime][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime].</span><span class="sxs-lookup"><span data-stu-id="f953b-113">For more information, navigate to [Deploying the Evergreen WebView2 Runtime][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime].</span></span>  

## <a name="run-compatibility-tests-regularly-when-using-the-evergreen-webview2-runtime"></a><span data-ttu-id="f953b-114">Ejecutar pruebas de compatibilidad con regularidad al usar Evergreen WebView2 Runtime</span><span class="sxs-lookup"><span data-stu-id="f953b-114">Run compatibility tests regularly when using the Evergreen WebView2 Runtime</span></span>

<span data-ttu-id="f953b-115">Al usar Evergreen WebView2 Runtime, asegúrese de ejecutar pruebas de compatibilidad regulares.</span><span class="sxs-lookup"><span data-stu-id="f953b-115">When using the Evergreen WebView2 Runtime, ensure you run regular compatibility tests.</span></span> <span data-ttu-id="f953b-116">Dado que el tiempo de ejecución se actualiza automáticamente, pruebe el contenido web del control WebView2 con las versiones no estables de Microsoft Edge para asegurarse de que la aplicación WebView2 funciona según lo esperado.</span><span class="sxs-lookup"><span data-stu-id="f953b-116">Because the runtime updates automatically, test the web content in the WebView2 control against the non-stable versions of Microsoft Edge to ensure that your WebView2 application performs as expected.</span></span> <span data-ttu-id="f953b-117">Esta guía es similar a la que ofrecemos a los desarrolladores web.</span><span class="sxs-lookup"><span data-stu-id="f953b-117">This guidance is similar to the guidance that we give to web developers.</span></span> <span data-ttu-id="f953b-118">Para obtener más información, vaya a [Permanecer compatible en modo Evergreen][Webview2ConceptsDistributionStayCompatibleEvergreenMode].</span><span class="sxs-lookup"><span data-stu-id="f953b-118">For more information, navigate to [Stay compatible in Evergreen mode][Webview2ConceptsDistributionStayCompatibleEvergreenMode].</span></span>

## <a name="ensure-apis-are-supported-by-the-installed-webview2-runtime"></a><span data-ttu-id="f953b-119">Asegúrese de que las API son compatibles con el tiempo de ejecución de WebView2 instalado</span><span class="sxs-lookup"><span data-stu-id="f953b-119">Ensure APIs are supported by the installed WebView2 Runtime</span></span>

<span data-ttu-id="f953b-120">Las aplicaciones webView2 necesitan un SDK de Webview2 y un Tiempo de ejecución de WebView2 instalado en el equipo para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="f953b-120">WebView2 applications need both a Webview2 SDK, and a WebView2 Runtime installed on the computer to run.</span></span> <span data-ttu-id="f953b-121">Tanto el SDK como el tiempo de ejecución tienen versiones.</span><span class="sxs-lookup"><span data-stu-id="f953b-121">Both the SDK and the runtime are versioned.</span></span> <span data-ttu-id="f953b-122">Dado que las API se agregan continuamente a WebView2, también se lanzan nuevas versiones del tiempo de ejecución para admitir las nuevas API.</span><span class="sxs-lookup"><span data-stu-id="f953b-122">Since APIs are continually being added to WebView2, new versions of the runtime are also released to support the new APIs.</span></span> <span data-ttu-id="f953b-123">Deberá asegurarse de que las API usadas por la aplicación WebView2 son compatibles con El tiempo de ejecución de WebView2 que está instalado en el equipo.</span><span class="sxs-lookup"><span data-stu-id="f953b-123">You'll need to ensure that the APIs used by your WebView2 application are supported by the WebView2 Runtime that's installed on the computer.</span></span> 

<span data-ttu-id="f953b-124">Si usa Evergreen WebView2 Runtime, hay algunos escenarios en los que es posible que el tiempo de ejecución no se actualice para usar la versión más reciente.</span><span class="sxs-lookup"><span data-stu-id="f953b-124">If you use the Evergreen WebView2 Runtime, there are some scenarios where the runtime may not be updated to use the latest version.</span></span> <span data-ttu-id="f953b-125">Por ejemplo, cuando los usuarios no tienen acceso a Internet, el tiempo de ejecución no se actualiza automáticamente en ese entorno.</span><span class="sxs-lookup"><span data-stu-id="f953b-125">For example, when users don't have internet access, the runtime isn't  automatically updated in that environment.</span></span> <span data-ttu-id="f953b-126">Además, el uso de algunas directivas de grupo pausa las actualizaciones de WebView2.</span><span class="sxs-lookup"><span data-stu-id="f953b-126">Additionally, using some group policies pause WebView2 updates.</span></span> <span data-ttu-id="f953b-127">Al insertar una actualización en la aplicación WebView2, la aplicación puede interrumpirse porque usa API más recientes que no están disponibles en el tiempo de ejecución instalado.</span><span class="sxs-lookup"><span data-stu-id="f953b-127">When you push an update to your WebView2 application, the application may break because it uses newer APIs that are not available in the installed runtime.</span></span>   
 
<span data-ttu-id="f953b-128">Para solucionar esta situación, puede probar la disponibilidad de las API en el tiempo de ejecución instalado, antes de que el código llame a la API.</span><span class="sxs-lookup"><span data-stu-id="f953b-128">To solve this situation, you can test for the availability of the APIs in the installed runtime, before your code calls the API.</span></span> <span data-ttu-id="f953b-129">Esta prueba de funcionalidad más reciente es similar a otros procedimientos recomendados de desarrollo web que detectan características compatibles antes de usar nuevas API web.</span><span class="sxs-lookup"><span data-stu-id="f953b-129">This test for newer functionality is similar to other web development best practices that detect supported features before using new web APIs.</span></span> <span data-ttu-id="f953b-130">Para probar la disponibilidad de la API en el tiempo de ejecución instalado, use:</span><span class="sxs-lookup"><span data-stu-id="f953b-130">To test for API availability in the installed runtime, use:</span></span>
* <span data-ttu-id="f953b-131">El `queryinterface` de C/C++.</span><span class="sxs-lookup"><span data-stu-id="f953b-131">The `queryinterface` in C/C++.</span></span> 
* <span data-ttu-id="f953b-132">Un bloque try/catch en .NET o WinUI.</span><span class="sxs-lookup"><span data-stu-id="f953b-132">A try/catch block in .NET or WinUI.</span></span> 
    
<span data-ttu-id="f953b-133">Para obtener más información, vaya a [Determine WebView2 Runtime requirement][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement].</span><span class="sxs-lookup"><span data-stu-id="f953b-133">For more information, navigate to [Determine WebView2 Runtime requirement][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement].</span></span>  

## <a name="update-the-fixed-version-runtime"></a><span data-ttu-id="f953b-134">Actualizar el tiempo de ejecución de la versión fija</span><span class="sxs-lookup"><span data-stu-id="f953b-134">Update the Fixed Version Runtime</span></span>  

<span data-ttu-id="f953b-135">Si usa el tiempo de ejecución de versión fija, asegúrese de actualizar el tiempo de ejecución con regularidad para reducir cualquier riesgo de seguridad potencial.</span><span class="sxs-lookup"><span data-stu-id="f953b-135">If you use the Fixed Version Runtime, ensure you update your runtime regularly to reduce any potential security risk.</span></span> <span data-ttu-id="f953b-136">Al usar contenido de terceros en aplicaciones webview2, tenga en cuenta siempre que el contenido no es de confianza.</span><span class="sxs-lookup"><span data-stu-id="f953b-136">When using 3rd-party content in Webview2 applications, always consider the content untrusted.</span></span>  <span data-ttu-id="f953b-137">Para obtener más información, vaya al [modo de distribución de versión fija][Webview2ConceptsDistributionFixedVersionDistributionMode].</span><span class="sxs-lookup"><span data-stu-id="f953b-137">For more information, navigate to [Fixed Version distribution mode][Webview2ConceptsDistributionFixedVersionDistributionMode].</span></span>  

## <a name="manage-new-versions-of-the-runtime"></a><span data-ttu-id="f953b-138">Administrar nuevas versiones del tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="f953b-138">Manage new versions of the runtime</span></span>  

<span data-ttu-id="f953b-139">Cada vez que se descarga una nueva versión de Evergreen WebView2 Runtime en el dispositivo, la ejecución de aplicaciones webView2 continúa usando el tiempo de ejecución anterior hasta que se libera el proceso del explorador.</span><span class="sxs-lookup"><span data-stu-id="f953b-139">Whenever a new version of the Evergreen WebView2 Runtime is downloaded to the device, running WebView2 applications continue using the previous runtime until the browser process is released.</span></span> <span data-ttu-id="f953b-140">Este comportamiento permite que las aplicaciones se ejecuten continuamente e impide que se elimine el tiempo de ejecución anterior.</span><span class="sxs-lookup"><span data-stu-id="f953b-140">This behavior allows applications to run continuously, and prevents the previous runtime from being deleted.</span></span> <span data-ttu-id="f953b-141">Para usar la nueva versión del tiempo de ejecución, deberá liberar todas las referencias a los objetos de entorno webView2 anteriores o reiniciar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f953b-141">To use the new version of the runtime, you'll need to release all references to the previous WebView2 environment objects or restart your application.</span></span> <span data-ttu-id="f953b-142">La próxima vez que cree un nuevo entorno WebView2, usará la nueva versión.</span><span class="sxs-lookup"><span data-stu-id="f953b-142">The next time you create a new WebView2 environment, it will use the new version.</span></span>

<span data-ttu-id="f953b-143">Para realizar acciones cuando haya una nueva versión disponible, como notificar al usuario que reinicie la aplicación, puede usar el evento [add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] o [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] en el código.</span><span class="sxs-lookup"><span data-stu-id="f953b-143">To take action when a new version is available, such as notifying the user to restart the application, you can use the [add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] or [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] event in your code.</span></span> <span data-ttu-id="f953b-144">Si el código controla el reinicio de la aplicación, considere la posibilidad de guardar el estado de usuario antes de que salga la aplicación WebView2.</span><span class="sxs-lookup"><span data-stu-id="f953b-144">If your code handles restarting the application, consider saving the user state before the WebView2 application exits.</span></span>  

## <a name="manage-the-lifetime-of-the-user-data-folder"></a><span data-ttu-id="f953b-145">Administrar la duración de la carpeta de datos de usuario</span><span class="sxs-lookup"><span data-stu-id="f953b-145">Manage the lifetime of the user data folder</span></span> 
<span data-ttu-id="f953b-146">Las aplicaciones webView2 crean una carpeta de datos de usuario para almacenar datos como cookies, credenciales, permisos, entre otros.</span><span class="sxs-lookup"><span data-stu-id="f953b-146">WebView2 apps create a user data folder to store data such as cookies, credentials, permissions, and so on.</span></span> <span data-ttu-id="f953b-147">Después de crear la carpeta, la aplicación es responsable de administrar la duración de la carpeta de datos de usuario, incluida la limpieza cuando se desinstala la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f953b-147">After creating the folder, your app is responsible for managing the lifetime of the user data folder, including clean up when the app is uninstalled.</span></span>  <span data-ttu-id="f953b-148">Para obtener más información, vaya a [Managing the User Data Folder][Webview2ConceptsUserDataFolder].</span><span class="sxs-lookup"><span data-stu-id="f953b-148">For more information, navigate to [Managing the User Data Folder][Webview2ConceptsUserDataFolder].</span></span>  

## <a name="follow-recommended-webview2-security-best-practices"></a><span data-ttu-id="f953b-149">Seguir los procedimientos recomendados de seguridad de WebView2</span><span class="sxs-lookup"><span data-stu-id="f953b-149">Follow recommended WebView2 security best practices</span></span> 
<span data-ttu-id="f953b-150">Para cualquier aplicación WebView2, asegúrese de seguir nuestros procedimientos recomendados de seguridad de WebView2.</span><span class="sxs-lookup"><span data-stu-id="f953b-150">For any WebView2 application, ensure you follow our recommended WebView2 security best practices.</span></span>  <span data-ttu-id="f953b-151">Para obtener más información, vaya a [Procedimientos recomendados para desarrollar aplicaciones webView2 seguras.][Webview2ConceptsSecurity]</span><span class="sxs-lookup"><span data-stu-id="f953b-151">For more information, navigate to [Best practices for developing secure WebView2 applications][Webview2ConceptsSecurity].</span></span>  


<!-- links -->  

[Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime]: ../concepts/distribution.md#deploying-the-evergreen-webview2-runtime "Implementación de Evergreen WebView2 Runtime: distribución de aplicaciones con WebView2 | Microsoft Docs"  
[Webview2ConceptsDistributionFixedVersionDistributionMode]: ../concepts/distribution.md#fixed-version-distribution-mode "Modo de distribución de versiones fijas: distribución de aplicaciones mediante WebView2 | Microsoft Docs"  
[Webview2ConceptsDistributionStayCompatibleEvergreenMode]: ../concepts/distribution.md#stay-compatible-in-evergreen-mode "Mantener la compatibilidad en modo Evergreen: distribución de aplicaciones con WebView2 | Microsoft Docs"  
[Webview2ConceptsSecurity]: ../concepts/security.md "Procedimientos recomendados para desarrollar aplicaciones webView2 seguras | Microsoft Docs"  
[Webview2ConceptsUserDataFolder]: ../concepts/user-data-folder.md "Administrar la carpeta de datos de usuario | Microsoft Docs"  
[Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement]: ../concepts/versioning.md#determine-webview2-runtime-requirement "Determinar el requisito de Tiempo de ejecución de WebView2: comprender las versiones del SDK de WebView2 | Microsoft Docs"  
[Webview2GetStartedWin32]: ../get-started/win32.md "Introducción a WebView2 | Microsoft Docs"  
[Webview2GetStartedWinforms]: ../get-started/winforms.md "Introducción a WebView2 en Windows Forms | Microsoft Docs"  
[Webview2GetStartedWinui]: ../get-started/winui.md "Introducción a WebView2 en WinUI 3 (versión preliminar) | Microsoft Docs"  
[Webview2GetStartedWpf]: ../get-started/wpf.md "Introducción a WebView2 en WPF | Microsoft Docs"  
[Webview2ReferenceaddNewBrowserVersionAvailable]: https://docs.microsoft.com/microsoft-edge/webview2/reference/win32/icorewebview2environment#add_newbrowserversionavailable "add_NewBrowserVersionAvailable | Microsoft Docs"  
[Webview2ReferenceNewBrowserVersionAvailable]: https://docs.microsoft.com/dotnet/api/microsoft.web.webview2.core.corewebview2environment.newbrowserversionavailable "Evento CoreWebView2Environment.NewBrowserVersionAvailable | Microsoft Docs"  