---
description: Insertar tecnologías web (HTML, CSS y JavaScript) en las aplicaciones nativas con el control Microsoft Edge WebView2
title: Microsoft. Web. WebView2. Core. CoreWebView2CompositionController
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 09/10/2020
ms.topic: reference
ms.prod: microsoft-edge
ms.technology: webview
keywords: Microsoft. Web. WebView2, Core, WebView2, WebView, dotnet, WPF, WinForms, App, Edge, CoreWebView2, CoreWebView2Controller, control de explorador, Edge HTML, Microsoft. Web. WebView2. Core. CoreWebView2CompositionController
ms.openlocfilehash: 51c6ebb12130632c5fb08e2992caf6ae83a478b1
ms.sourcegitcommit: 0faf538d5033508af4320b9b89c4ed99872f0574
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/10/2020
ms.locfileid: "11012683"
---
# <span data-ttu-id="60cb8-104">Clase Microsoft. Web. WebView2. Core. CoreWebView2CompositionController</span><span class="sxs-lookup"><span data-stu-id="60cb8-104">Microsoft.Web.WebView2.Core.CoreWebView2CompositionController class</span></span> 

[!INCLUDE [prerelease-note](../../includes/prerelease-note.md)]

<span data-ttu-id="60cb8-105">Espacio de nombres: Microsoft. Web. WebView2. Core </span><span class="sxs-lookup"><span data-stu-id="60cb8-105">Namespace: Microsoft.Web.WebView2.Core</span></span>\
<span data-ttu-id="60cb8-106">Ensamblado: Microsoft.Web.WebView2.Core.dll</span><span class="sxs-lookup"><span data-stu-id="60cb8-106">Assembly: Microsoft.Web.WebView2.Core.dll</span></span>

<span data-ttu-id="60cb8-107">Esta clase es una extensión de la clase CoreWebView2Controller para admitir el hospedaje visual.</span><span class="sxs-lookup"><span data-stu-id="60cb8-107">This class is an extension of the CoreWebView2Controller class to support visual hosting.</span></span>

## <span data-ttu-id="60cb8-108">Resumen</span><span class="sxs-lookup"><span data-stu-id="60cb8-108">Summary</span></span>

 <span data-ttu-id="60cb8-109">Miembros</span><span class="sxs-lookup"><span data-stu-id="60cb8-109">Members</span></span>                        | <span data-ttu-id="60cb8-110">Descripciones</span><span class="sxs-lookup"><span data-stu-id="60cb8-110">Descriptions</span></span>
--------------------------------|---------------------------------------------
[<span data-ttu-id="60cb8-111">Cursor</span><span class="sxs-lookup"><span data-stu-id="60cb8-111">Cursor</span></span>](#cursor) | <span data-ttu-id="60cb8-112">El cursor actual que la vista en WebView debe tener.</span><span class="sxs-lookup"><span data-stu-id="60cb8-112">The current cursor that WebView thinks it should be.</span></span>
[<span data-ttu-id="60cb8-113">CursorChanged</span><span class="sxs-lookup"><span data-stu-id="60cb8-113">CursorChanged</span></span>](#cursorchanged) | <span data-ttu-id="60cb8-114">El evento se desencadena cuando WebView considera que se debe cambiar el cursor.</span><span class="sxs-lookup"><span data-stu-id="60cb8-114">The event fires when WebView thinks the cursor should be changed.</span></span>
[<span data-ttu-id="60cb8-115">RootVisualTarget</span><span class="sxs-lookup"><span data-stu-id="60cb8-115">RootVisualTarget</span></span>](#rootvisualtarget) | <span data-ttu-id="60cb8-116">El RootVisualTarget es un objeto visual en el árbol visual de la aplicación de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="60cb8-116">The RootVisualTarget is a visual in the hosting app's visual tree.</span></span>
[<span data-ttu-id="60cb8-117">UIAProvider</span><span class="sxs-lookup"><span data-stu-id="60cb8-117">UIAProvider</span></span>](#uiaprovider) | <span data-ttu-id="60cb8-118">Devuelve el proveedor de automatización de la interfaz de usuario de WebView.</span><span class="sxs-lookup"><span data-stu-id="60cb8-118">Returns the UI Automation Provider for the WebView.</span></span>
[<span data-ttu-id="60cb8-119">CreateCoreWebView2PointerInfoFromPointerId</span><span class="sxs-lookup"><span data-stu-id="60cb8-119">CreateCoreWebView2PointerInfoFromPointerId</span></span>](#createcorewebview2pointerinfofrompointerid) | <span data-ttu-id="60cb8-120">Una función auxiliar para convertir una pointerId recibida del sistema en un CoreWebView2PointerInfo.</span><span class="sxs-lookup"><span data-stu-id="60cb8-120">A helper function to convert a pointerId received from the system into a CoreWebView2PointerInfo.</span></span>
[<span data-ttu-id="60cb8-121">SendMouseInput</span><span class="sxs-lookup"><span data-stu-id="60cb8-121">SendMouseInput</span></span>](#sendmouseinput) | <span data-ttu-id="60cb8-122">Si eventKind es CoreWebView2MouseEventKind. HorizontalWheel o CoreWebView2MouseEventKind. Wheel, mouseData especifica la cantidad de movimiento de la rueda.</span><span class="sxs-lookup"><span data-stu-id="60cb8-122">If eventKind is CoreWebView2MouseEventKind.HorizontalWheel or CoreWebView2MouseEventKind.Wheel, then mouseData specifies the amount of wheel movement.</span></span>
[<span data-ttu-id="60cb8-123">SendPointerInput</span><span class="sxs-lookup"><span data-stu-id="60cb8-123">SendPointerInput</span></span>](#sendpointerinput) | <span data-ttu-id="60cb8-124">SendPointerInput acepta la entrada de puntero táctil o de lápiz de los tipos definidos en CoreWebView2PointerEventKind.</span><span class="sxs-lookup"><span data-stu-id="60cb8-124">SendPointerInput accepts touch or pen pointer input of types defined in CoreWebView2PointerEventKind.</span></span>

## <span data-ttu-id="60cb8-125">Miembros</span><span class="sxs-lookup"><span data-stu-id="60cb8-125">Members</span></span>

#### <span data-ttu-id="60cb8-126">Cursor</span><span class="sxs-lookup"><span data-stu-id="60cb8-126">Cursor</span></span> 

<span data-ttu-id="60cb8-127">El cursor actual que la vista en WebView debe tener.</span><span class="sxs-lookup"><span data-stu-id="60cb8-127">The current cursor that WebView thinks it should be.</span></span>

> <span data-ttu-id="60cb8-128">[cursor](#cursor) IntPtr público</span><span class="sxs-lookup"><span data-stu-id="60cb8-128">public IntPtr [Cursor](#cursor)</span></span>

<span data-ttu-id="60cb8-129">El cursor debe establecerse en WM_SETCURSOR a través de mouse. SetCursor o establecerse en el HWND principal/antecesor correspondiente de la vista de vista rápida a través de SetClassLongPtr.</span><span class="sxs-lookup"><span data-stu-id="60cb8-129">The cursor should be set in WM_SETCURSOR through Mouse.SetCursor or set on the corresponding parent/ancestor HWND of the WebView through SetClassLongPtr.</span></span> <span data-ttu-id="60cb8-130">El HCURSOR se puede liberar, por lo que se recomienda CopyCursor/DestroyCursor para conservar su propia copia si hace más de lo que hay que establecer inmediatamente el cursor.</span><span class="sxs-lookup"><span data-stu-id="60cb8-130">The HCURSOR can be freed so CopyCursor/DestroyCursor is recommended to keep your own copy if you are doing more than immediately setting the cursor.</span></span>

#### <span data-ttu-id="60cb8-131">CursorChanged</span><span class="sxs-lookup"><span data-stu-id="60cb8-131">CursorChanged</span></span> 

<span data-ttu-id="60cb8-132">El evento se desencadena cuando WebView considera que se debe cambiar el cursor.</span><span class="sxs-lookup"><span data-stu-id="60cb8-132">The event fires when WebView thinks the cursor should be changed.</span></span>

> <span data-ttu-id="60cb8-133">evento público EventHandler< > [CursorChanged](#cursorchanged)</span><span class="sxs-lookup"><span data-stu-id="60cb8-133">public event EventHandler< object > [CursorChanged](#cursorchanged)</span></span>

<span data-ttu-id="60cb8-134">Por ejemplo, cuando el cursor del mouse es actualmente el cursor predeterminado pero, después, se desplaza por el texto, puede intentar cambiar al cursor IBeam.</span><span class="sxs-lookup"><span data-stu-id="60cb8-134">For example, when the mouse cursor is currently the default cursor but is then moved over text, it may try to change to the IBeam cursor.</span></span> <span data-ttu-id="60cb8-135">Se espera que el desarrollador envíe mensajes de CoreWebView2MouseEventKind. Leave (además de CoreWebView2MouseEventKind. mover mensajes) a través de la API de SendMouseInput.</span><span class="sxs-lookup"><span data-stu-id="60cb8-135">It is expected for the developer to send CoreWebView2MouseEventKind.Leave messages (in addition to CoreWebView2MouseEventKind.Move messages) through the SendMouseInput API.</span></span> <span data-ttu-id="60cb8-136">Esto se hace para garantizar que el mouse se encuentre realmente dentro de la vista en WebView que envía eventos CursorChanged.</span><span class="sxs-lookup"><span data-stu-id="60cb8-136">This is to ensure that the mouse is actually within the WebView that sends out CursorChanged events.</span></span>

#### <span data-ttu-id="60cb8-137">RootVisualTarget</span><span class="sxs-lookup"><span data-stu-id="60cb8-137">RootVisualTarget</span></span> 

<span data-ttu-id="60cb8-138">El RootVisualTarget es un objeto visual en el árbol visual de la aplicación de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="60cb8-138">The RootVisualTarget is a visual in the hosting app's visual tree.</span></span>

> <span data-ttu-id="60cb8-139">[RootVisualTarget](#rootvisualtarget) de objeto público</span><span class="sxs-lookup"><span data-stu-id="60cb8-139">public object [RootVisualTarget](#rootvisualtarget)</span></span>

<span data-ttu-id="60cb8-140">Este objeto visual es el lugar donde la vista en WebView conectará su árbol visual.</span><span class="sxs-lookup"><span data-stu-id="60cb8-140">This visual is where the WebView will connect its visual tree.</span></span> <span data-ttu-id="60cb8-141">La aplicación usa este objeto visual para posicionar la vista en la vista previa dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="60cb8-141">The app uses this visual to position the WebView within the app.</span></span> <span data-ttu-id="60cb8-142">La aplicación aún debe usar la propiedad Bounds para cambiar el tamaño de la vista en WebView.</span><span class="sxs-lookup"><span data-stu-id="60cb8-142">The app still needs to use the Bounds property to size the WebView.</span></span> <span data-ttu-id="60cb8-143">La propiedad RootVisualTarget puede ser una IDCompositionVisual o Windows:: UI:: Composition:: ContainerVisual.</span><span class="sxs-lookup"><span data-stu-id="60cb8-143">The RootVisualTarget property can be an IDCompositionVisual or a Windows::UI::Composition::ContainerVisual.</span></span> <span data-ttu-id="60cb8-144">WebView conectará su árbol visual al visual proporcionado antes de volver de la propiedad Setter.</span><span class="sxs-lookup"><span data-stu-id="60cb8-144">WebView will connect its visual tree to the provided visual before returning from the property setter.</span></span> <span data-ttu-id="60cb8-145">La aplicación debe confirmar en su dispositivo estableciendo la propiedad RootVisualTarget.</span><span class="sxs-lookup"><span data-stu-id="60cb8-145">The app needs to commit on its device setting the RootVisualTarget property.</span></span> <span data-ttu-id="60cb8-146">La propiedad RootVisualTarget admite establecerse en nullptr para desconectar el WebView del árbol visual de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="60cb8-146">The RootVisualTarget property supports being set to nullptr to disconnect the WebView from the app's visual tree.</span></span>

#### <span data-ttu-id="60cb8-147">UIAProvider</span><span class="sxs-lookup"><span data-stu-id="60cb8-147">UIAProvider</span></span> 

<span data-ttu-id="60cb8-148">Devuelve el proveedor de automatización de la interfaz de usuario de WebView.</span><span class="sxs-lookup"><span data-stu-id="60cb8-148">Returns the UI Automation Provider for the WebView.</span></span>

> <span data-ttu-id="60cb8-149">[UIAProvider](#uiaprovider) de objeto público</span><span class="sxs-lookup"><span data-stu-id="60cb8-149">public object [UIAProvider](#uiaprovider)</span></span>

#### <span data-ttu-id="60cb8-150">CreateCoreWebView2PointerInfoFromPointerId</span><span class="sxs-lookup"><span data-stu-id="60cb8-150">CreateCoreWebView2PointerInfoFromPointerId</span></span> 

<span data-ttu-id="60cb8-151">Una función auxiliar para convertir una pointerId recibida del sistema en un CoreWebView2PointerInfo.</span><span class="sxs-lookup"><span data-stu-id="60cb8-151">A helper function to convert a pointerId received from the system into a CoreWebView2PointerInfo.</span></span>

> <span data-ttu-id="60cb8-152">Public [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) [CreateCoreWebView2PointerInfoFromPointerId](#createcorewebview2pointerinfofrompointerid)(uint PointerId, IntPtr ParentWindow, Matrix4x4 Transform)</span><span class="sxs-lookup"><span data-stu-id="60cb8-152">public [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) [CreateCoreWebView2PointerInfoFromPointerId](#createcorewebview2pointerinfofrompointerid)(uint PointerId, IntPtr ParentWindow, Matrix4x4 transform)</span></span>

<span data-ttu-id="60cb8-153">parentWindow es el HWND que contiene WebView.</span><span class="sxs-lookup"><span data-stu-id="60cb8-153">parentWindow is the HWND that contains the WebView.</span></span> <span data-ttu-id="60cb8-154">Puede ser cualquier HWND en el árbol HWND que contenga la vista en vista previa.</span><span class="sxs-lookup"><span data-stu-id="60cb8-154">This can be any HWND in the hwnd tree that contains the WebView.</span></span> <span data-ttu-id="60cb8-155">El CoreWebView2Matrix4x4 es la transformación de ese HWND a la vista de ventana.</span><span class="sxs-lookup"><span data-stu-id="60cb8-155">The CoreWebView2Matrix4x4 is the transform from that HWND to the WebView.</span></span> <span data-ttu-id="60cb8-156">El CoreWebView2PointerInfo devuelto se usa en SendPointerInfo.</span><span class="sxs-lookup"><span data-stu-id="60cb8-156">The returned CoreWebView2PointerInfo is used in SendPointerInfo.</span></span> <span data-ttu-id="60cb8-157">El tipo de puntero debe ser pluma o entrada táctil, o la función dará un error.</span><span class="sxs-lookup"><span data-stu-id="60cb8-157">The pointer type must be either pen or touch or the function will fail.</span></span>

#### <span data-ttu-id="60cb8-158">SendMouseInput</span><span class="sxs-lookup"><span data-stu-id="60cb8-158">SendMouseInput</span></span> 

<span data-ttu-id="60cb8-159">Si eventKind es CoreWebView2MouseEventKind. HorizontalWheel o CoreWebView2MouseEventKind. Wheel, mouseData especifica la cantidad de movimiento de la rueda.</span><span class="sxs-lookup"><span data-stu-id="60cb8-159">If eventKind is CoreWebView2MouseEventKind.HorizontalWheel or CoreWebView2MouseEventKind.Wheel, then mouseData specifies the amount of wheel movement.</span></span>

> <span data-ttu-id="60cb8-160">public void [SendMouseInput](#sendmouseinput)([CoreWebView2MouseEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2MouseEventVirtualKeys](./namespace-microsoft-web-webview2-core.md) virtualKeys, uint mouseData, Point)</span><span class="sxs-lookup"><span data-stu-id="60cb8-160">public void [SendMouseInput](#sendmouseinput)([CoreWebView2MouseEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2MouseEventVirtualKeys](./namespace-microsoft-web-webview2-core.md) virtualKeys, uint mouseData, Point point)</span></span>

<span data-ttu-id="60cb8-161">Un valor positivo indica que la rueda se giró hacia adelante, alejándose del usuario; un valor negativo indica que la rueda se ha girado hacia atrás, hacia el usuario.</span><span class="sxs-lookup"><span data-stu-id="60cb8-161">A positive value indicates that the wheel was rotated forward, away from the user; a negative value indicates that the wheel was rotated backward, toward the user.</span></span> <span data-ttu-id="60cb8-162">Un clic de rueda se define como WHEEL_DELTA, que es 120.</span><span class="sxs-lookup"><span data-stu-id="60cb8-162">One wheel click is defined as WHEEL_DELTA, which is 120.</span></span> <span data-ttu-id="60cb8-163">Si eventKind es CoreWebView2MouseEventKind. XButtonDoubleClick CoreWebView2MouseEventKind. XButtonDown o CoreWebView2MouseEventKind. XButtonUp, mouseData especifica qué botones X se han presionado o se han soltado.</span><span class="sxs-lookup"><span data-stu-id="60cb8-163">If eventKind is CoreWebView2MouseEventKind.XButtonDoubleClick CoreWebView2MouseEventKind.XButtonDown, or CoreWebView2MouseEventKind.XButtonUp, then mouseData specifies which X buttons were pressed or released.</span></span> <span data-ttu-id="60cb8-164">Este valor debe ser 1 si se presiona o se suelta el primer botón X y 2 si se presiona o se suelta el segundo botón X.</span><span class="sxs-lookup"><span data-stu-id="60cb8-164">This value should be 1 if the first X button is pressed/released and 2 if the second X button is pressed/released.</span></span> <span data-ttu-id="60cb8-165">Si eventKind es CoreWebView2MouseEventKind. Leave, virtualKeys, mouseData y Point debe ser cero.</span><span class="sxs-lookup"><span data-stu-id="60cb8-165">If eventKind is CoreWebView2MouseEventKind.Leave, then virtualKeys, mouseData, and point should all be zero.</span></span> <span data-ttu-id="60cb8-166">Si eventKind es cualquier otro valor, mouseData debe ser cero.</span><span class="sxs-lookup"><span data-stu-id="60cb8-166">If eventKind is any other value, then mouseData should be zero.</span></span> <span data-ttu-id="60cb8-167">Se espera que el punto se sitúe en el espacio de coordenadas del cliente de la vista Web.</span><span class="sxs-lookup"><span data-stu-id="60cb8-167">Point is expected to be in the client coordinate space of the WebView.</span></span> <span data-ttu-id="60cb8-168">Para hacer un seguimiento de los eventos del mouse que se inician en la WebView y pueden moverse fuera de la aplicación WebView y host, se recomienda llamar a SetCapture y ReleaseCapture.</span><span class="sxs-lookup"><span data-stu-id="60cb8-168">To track mouse events that start in the WebView and can potentially move outside of the WebView and host application, calling SetCapture and ReleaseCapture is recommended.</span></span> <span data-ttu-id="60cb8-169">Para descartar los elementos emergentes activables, también se recomienda enviar mensajes CoreWebView2MouseEventKind. Leave.</span><span class="sxs-lookup"><span data-stu-id="60cb8-169">To dismiss hover popups, it is also recommended to send CoreWebView2MouseEventKind.Leave messages.</span></span>

#### <span data-ttu-id="60cb8-170">SendPointerInput</span><span class="sxs-lookup"><span data-stu-id="60cb8-170">SendPointerInput</span></span> 

<span data-ttu-id="60cb8-171">SendPointerInput acepta la entrada de puntero táctil o de lápiz de los tipos definidos en CoreWebView2PointerEventKind.</span><span class="sxs-lookup"><span data-stu-id="60cb8-171">SendPointerInput accepts touch or pen pointer input of types defined in CoreWebView2PointerEventKind.</span></span>

> <span data-ttu-id="60cb8-172">public void [SendPointerInput](#sendpointerinput)([CoreWebView2PointerEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) pointerInfo)</span><span class="sxs-lookup"><span data-stu-id="60cb8-172">public void [SendPointerInput](#sendpointerinput)([CoreWebView2PointerEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) pointerInfo)</span></span>

<span data-ttu-id="60cb8-173">Cualquier entrada de puntero del sistema debe convertirse en un CoreWebView2PointerInfo en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="60cb8-173">Any pointer input from the system must be converted into a CoreWebView2PointerInfo first.</span></span>

