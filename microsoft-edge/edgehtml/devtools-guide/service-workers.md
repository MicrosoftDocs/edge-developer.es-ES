---
description: Usar el panel de trabajo de servicio para administrar y depurar los trabajos de servicio
title: DevTools-depurador-trabajadores de servicio
author: MSEdgeTeam
ms.author: msedgedevrel
ms.topic: article
ms.prod: microsoft-edge
keywords: Microsoft Edge, desarrollo web, herramientas F12, DevTools, depuración, depuración, PWA, trabajo del servicio, API de caché
ms.custom: seodec18
ms.date: 11/19/2020
ROBOTS: NOINDEX,NOFOLLOW
ms.openlocfilehash: 99592f787da8bcf89d2e16231aa3f39047b4fc0b
ms.sourcegitcommit: a35a6b5bbc21b7df61d08cbc6b074b5325ad4fef
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/17/2020
ms.locfileid: "11236364"
---
# <span data-ttu-id="8682e-104">Trabajos de servicio</span><span class="sxs-lookup"><span data-stu-id="8682e-104">Service Workers</span></span>

<span data-ttu-id="8682e-105">El panel de **trabajos de servicio** tiene herramientas para administrar y depurar los trabajos de servicio para su sitio, lo que le ayudará a:</span><span class="sxs-lookup"><span data-stu-id="8682e-105">The **Service Workers** panel has tools for managing and debugging the service workers for your site, to help you:</span></span>

 - <span data-ttu-id="8682e-106">Obtener una visión general de todos los trabajos de servicio asociados a su sitio y detalles de su ámbito y estado</span><span class="sxs-lookup"><span data-stu-id="8682e-106">Get an overview of all the service workers associated with your site and details of their scope and status</span></span>
 - <span data-ttu-id="8682e-107">**Actualizar** y administrar (**eliminar**) el registro de trabajadores del servicio para el ámbito especificado</span><span class="sxs-lookup"><span data-stu-id="8682e-107">**Update** and manage (**Unregister**) the service worker registration for the given scope</span></span>
 - <span data-ttu-id="8682e-108">**Insertar** una notificación de prueba</span><span class="sxs-lookup"><span data-stu-id="8682e-108">**Push** a test notification</span></span>
 - <span data-ttu-id="8682e-109">**Detener** / **Iniciar** trabajadores de servicio individuales y</span><span class="sxs-lookup"><span data-stu-id="8682e-109">**Stop**/**Start** individual service workers, and</span></span>
 - <span data-ttu-id="8682e-110">**Inspeccionar** el trabajador del servicio seleccionado en una ventana independiente del depurador</span><span class="sxs-lookup"><span data-stu-id="8682e-110">**Inspect** the selected service worker in a separate debugger window</span></span>

![Panel de información general del trabajo del servicio](./media/service_worker.png)

<span data-ttu-id="8682e-112">Tenga en cuenta lo siguiente sobre la depuración de los trabajos de servicios en Edge DevTools:</span><span class="sxs-lookup"><span data-stu-id="8682e-112">Please note the following about service worker debugging in Edge DevTools:</span></span>

 - <span data-ttu-id="8682e-113">La depuración de un trabajador de servicio iniciará una nueva instancia de la DevTools independiente de las herramientas de la página porque los trabajos de servicio se pueden compartir entre varias pestañas.</span><span class="sxs-lookup"><span data-stu-id="8682e-113">Debugging a service worker will launch a new instance of the  DevTools separate from the page's tools because service workers can be shared across multiple tabs.</span></span>
 - <span data-ttu-id="8682e-114">Los [**elementos**](./elements.md) y los paneles de [**emulación**](./emulation.md) no están presentes en el depurador de trabajo de servicios, dado que los trabajadores del servicio se ejecutan en segundo plano y no controlan directamente el front-end de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8682e-114">The [**Elements**](./elements.md) and [**Emulation**](./emulation.md) panels are absent from the service worker debugger, given that service workers run in the background and do not directly control the front-end of your app.</span></span>
 - <span data-ttu-id="8682e-115">En la actualidad, el tráfico de red de un trabajador de servicio solo se notifica desde la instancia de depuración de DevTools para ese trabajo, y no desde la instancia del depurador para la página en sí.</span><span class="sxs-lookup"><span data-stu-id="8682e-115">Currently network traffic for a service worker is only reported from the  DevTools debugging instance for that worker, and not from the debugger instance for the page itself.</span></span>
 - <span data-ttu-id="8682e-116">Para simular una **inserción** desde la DevTools, tendrá que agregar un detector de eventos de *inserción* al trabajador del servicio para observar su efecto.</span><span class="sxs-lookup"><span data-stu-id="8682e-116">To simulate a **Push** from the DevTools, you'll need to add a *push* event listener to your service worker in order to observe its effect.</span></span> <span data-ttu-id="8682e-117">El siguiente ejemplo imprimirá "probar mensaje push de DevTools" en la **consola**de trabajo del servicio.</span><span class="sxs-lookup"><span data-stu-id="8682e-117">The following example will print "Test push message from DevTools" in your service worker **Console**.</span></span>

   ```JavaScript
   self.addEventListener('push', function(event){
       console.log(event.data.text());
   });
   ```

<span data-ttu-id="8682e-118">Estas son algunas de las cosas generales que debe tener en cuenta al usar los trabajos de servicio:</span><span class="sxs-lookup"><span data-stu-id="8682e-118">Here are some general things to keep in mind when using service workers:</span></span>

- **<span data-ttu-id="8682e-119">Solo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8682e-119">HTTPS-only.</span></span>** <span data-ttu-id="8682e-120">Los trabajos del servicio no funcionan en HTTP; tendrá que usar HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8682e-120">Service workers will not work in HTTP; you will need to use HTTPS.</span></span> <span data-ttu-id="8682e-121">Sin embargo, puede registrar trabajadores de servicio `localhost` para fines de prueba.</span><span class="sxs-lookup"><span data-stu-id="8682e-121">However, you can register service workers on `localhost` for testing purposes.</span></span>

- **<span data-ttu-id="8682e-122">No se permite el acceso a DOM.</span><span class="sxs-lookup"><span data-stu-id="8682e-122">No DOM access allowed.</span></span>** <span data-ttu-id="8682e-123">Al igual que con los trabajadores web, no obtienes acceso al modelo de objetos de la página.</span><span class="sxs-lookup"><span data-stu-id="8682e-123">As with web workers, you don't get access to the page's object model.</span></span> <span data-ttu-id="8682e-124">Esto significa que si necesita cambiar algo sobre la página, tendrá que usar [`postMessage`](https://developer.mozilla.org/docs/Web/API/Worker/postMessage) desde el trabajo de servicio hasta la página para poder controlar los cambios de Dom en la página.</span><span class="sxs-lookup"><span data-stu-id="8682e-124">This means that if you need to change something about the page, you'll need to use [`postMessage`](https://developer.mozilla.org/docs/Web/API/Worker/postMessage) from the service worker to the page so that you can handle it DOM changes from the page.</span></span>

- **<span data-ttu-id="8682e-125">Se ejecuta de forma independiente de la página.</span><span class="sxs-lookup"><span data-stu-id="8682e-125">Executes separate from page.</span></span>** <span data-ttu-id="8682e-126">Dado que estas secuencias de comandos no están vinculadas a la duración de una página, es importante comprender que no comparten el mismo contexto que la página.</span><span class="sxs-lookup"><span data-stu-id="8682e-126">Because these scripts are not tied to the lifetime of a page, it's important to understand that they do not share the same context as the page.</span></span> <span data-ttu-id="8682e-127">Aparte de no tener acceso al DOM (como se indicó anteriormente), no tendrá acceso a las mismas variables disponibles en la página.</span><span class="sxs-lookup"><span data-stu-id="8682e-127">Aside from not having access to the DOM (as stated earlier), they won't have access to the same variables available on the page.</span></span>

- **<span data-ttu-id="8682e-128">Invalida la caché de la *aplicación*.</span><span class="sxs-lookup"><span data-stu-id="8682e-128">Overrides *App Cache*.</span></span>** <span data-ttu-id="8682e-129">Se omitirá la caché de la aplicación cuando se estén usando los trabajos del servicio.</span><span class="sxs-lookup"><span data-stu-id="8682e-129">App Cache will be ignored when service workers are in use.</span></span> <span data-ttu-id="8682e-130">La API de trabajo de servicios está pensada para suplantar completamente la caché de aplicaciones al otorgar un control granular al desarrollador web.</span><span class="sxs-lookup"><span data-stu-id="8682e-130">The Service Worker API is intended to entirely supplant App Cache  by giving more granular control to the web developer.</span></span>

  - **<span data-ttu-id="8682e-131">La secuencia de comandos no puede estar en CDN.</span><span class="sxs-lookup"><span data-stu-id="8682e-131">Script can't be on CDN.</span></span>** <span data-ttu-id="8682e-132">El archivo JavaScript para el trabajo de servicio no se puede hospedar en una red de distribución de contenido (CDN), debe estar en el mismo dominio que la página.</span><span class="sxs-lookup"><span data-stu-id="8682e-132">The JavaScript file for the service worker can't be hosted on a Content Distribution Network (CDN), it must be on the same domain as the page.</span></span> <span data-ttu-id="8682e-133">Sin embargo, si lo desea, puede importar scripts desde su red CDN.</span><span class="sxs-lookup"><span data-stu-id="8682e-133">However, if you like, you can import scripts from your CDN.</span></span>

- **<span data-ttu-id="8682e-134">Puede finalizar en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="8682e-134">Can be terminated any time.</span></span>** <span data-ttu-id="8682e-135">Los trabajadores del servicio están diseñados para ser de corta duración y su vida útil está vinculado a eventos.</span><span class="sxs-lookup"><span data-stu-id="8682e-135">Service workers are meant to be short-lived and their lifetime is tied to events.</span></span> <span data-ttu-id="8682e-136">En particular, los trabajadores del servicio tienen un límite de tiempo en el que deben finalizar la ejecución de los controladores de eventos.</span><span class="sxs-lookup"><span data-stu-id="8682e-136">In particular, service workers have a time limit in which they must finish executing their event handlers.</span></span> <span data-ttu-id="8682e-137">En otros casos, el explorador o el sistema operativo pueden elegir finalizar un trabajador de servicio que afecte al consumo de la batería, la CPU o la memoria.</span><span class="sxs-lookup"><span data-stu-id="8682e-137">In other cases, the browser or the operating system may choose to terminate a service worker that impacts the battery, CPU, or memory consumption.</span></span> <span data-ttu-id="8682e-138">En cualquier caso, evite depender de variables globales en el script de trabajo de servicio en caso de que se use una instancia de trabajo de servicio diferente en un evento subsiguiente que se esté controlando.</span><span class="sxs-lookup"><span data-stu-id="8682e-138">In either case, avoid relying on global variables in the service worker script in case a different service worker instance is used on a subsequent event that's being handled.</span></span>

- **<span data-ttu-id="8682e-139">Solo se permiten solicitudes asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="8682e-139">Only asynchronous requests allowed.</span></span>** <span data-ttu-id="8682e-140">Las XHR sincrónicas no se permiten aquí.</span><span class="sxs-lookup"><span data-stu-id="8682e-140">Synchronous XHR is not allowed here!</span></span> <span data-ttu-id="8682e-141">Ni es localStorage, por lo que es mejor usar IndexedDB y la nueva API de cachés descrita anteriormente.</span><span class="sxs-lookup"><span data-stu-id="8682e-141">Neither is localStorage, so it's best to make use of IndexedDB and the new Caches API described earlier.</span></span>

- **<span data-ttu-id="8682e-142">El trabajo del servicio para el ámbito es 1:1.</span><span class="sxs-lookup"><span data-stu-id="8682e-142">Service worker to scope is 1:1.</span></span>** <span data-ttu-id="8682e-143">Solo podrá tener un trabajador de servicio por ámbito.</span><span class="sxs-lookup"><span data-stu-id="8682e-143">You'll only be able to have one service worker per scope.</span></span> <span data-ttu-id="8682e-144">Esto significa que si intenta registrar un trabajador de servicio diferente para un ámbito que ya tiene un trabajo de servicio, ese trabajo de servicio se actualizará.</span><span class="sxs-lookup"><span data-stu-id="8682e-144">That means if you try to register a different service worker for a scope that already has a service worker, that service worker will be updated.</span></span>
