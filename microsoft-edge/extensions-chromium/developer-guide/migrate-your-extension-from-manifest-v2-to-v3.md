---
description: Obtenga información sobre cómo actualizar la extensión de Manifiesto V2 a V3
title: Prepararse para actualizar las extensiones de Manifiesto V2 a V3
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 05/11/2020
ms.topic: article
ms.prod: microsoft-edge
keywords: edge-chromium, desarrollo de extensiones, extensiones perimetrales, extensiones de explorador, complementos, desarrollador, manifiesto v3, migración a manifiesto v3
ms.openlocfilehash: 5aa1aa7446a312d581bacc4fa19ba7362c6c2a3e
ms.sourcegitcommit: 7945939c29dfdd414020f8b05936f605fa2b640e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/13/2021
ms.locfileid: "11564619"
---
# <a name="prepare-to-update-your-extensions-from-manifest-v2-to-v3"></a><span data-ttu-id="11714-104">Prepararse para actualizar las extensiones de Manifest v2 a v3</span><span class="sxs-lookup"><span data-stu-id="11714-104">Prepare to update your extensions from Manifest v2 to v3</span></span>  

<span data-ttu-id="11714-105">En este documento se enumeran los cambios importantes que se implementan como parte de Manifest v3, que es la siguiente versión de la plataforma Chromium extensions.</span><span class="sxs-lookup"><span data-stu-id="11714-105">This document lists important changes being implemented as part of Manifest v3, which is the next version of the Chromium Extensions platform.</span></span>  <span data-ttu-id="11714-106">El Microsoft Edge de extensiones actualiza este documento a medida que avanza la implementación.</span><span class="sxs-lookup"><span data-stu-id="11714-106">The Microsoft Edge extensions team updates this document as the implementation progresses.</span></span>  <span data-ttu-id="11714-107">Para obtener instrucciones detalladas sobre cómo migrar la extensión a Manifiesto v3, vaya a [Migrar al manifiesto V3][ChromeDeveloperDocsExtensionsMv3Mv3MigrationChecklist].</span><span class="sxs-lookup"><span data-stu-id="11714-107">For detailed guidance on migrating your extension to Manifest v3, navigate to [Migrating to Manifest V3][ChromeDeveloperDocsExtensionsMv3Mv3MigrationChecklist].</span></span>  

## <a name="remotely-hosted-code"></a><span data-ttu-id="11714-108">Código hospedado de forma remota</span><span class="sxs-lookup"><span data-stu-id="11714-108">Remotely hosted code</span></span>  

<span data-ttu-id="11714-109">Actualmente, partes del código de extensiones se hospedan de forma remota y no lo incluyen como parte del paquete de extensión durante el proceso de validación.</span><span class="sxs-lookup"><span data-stu-id="11714-109">Today, parts of the extensions code is hosted remotely, and not include it as part of the extension package during the validation process.</span></span>  <span data-ttu-id="11714-110">Aunque esto ofrece flexibilidad para cambiar el código sin volver a enviar la extensión al almacén, es posible que el código se aproveche después de la instalación.</span><span class="sxs-lookup"><span data-stu-id="11714-110">While this offers flexibility to change code without resubmitting the extension to the store, the code may be exploited after installation.</span></span>  <span data-ttu-id="11714-111">Para asegurarse [Microsoft Edge listas][MicrosoftMicrosoftedgeAddons] de extensiones validadas, el equipo de extensiones de Microsoft Edge no permite que las extensiones utilicen código hospedado de forma remota.</span><span class="sxs-lookup"><span data-stu-id="11714-111">To ensure [Microsoft Edge Add-ons][MicrosoftMicrosoftedgeAddons] lists validated extensions, the Microsoft Edge extensions team disallows extensions from using remotely hosted code.</span></span>  <span data-ttu-id="11714-112">Este cambio hace que las extensiones sea más segura.</span><span class="sxs-lookup"><span data-stu-id="11714-112">This change makes extensions more secure.</span></span>  <span data-ttu-id="11714-113">Los desarrolladores tendrán que empaquetar y enviar todo el código usado por la extensión para su validación.</span><span class="sxs-lookup"><span data-stu-id="11714-113">Developers will need to package and submit all code used by the extension for validation.</span></span>  <span data-ttu-id="11714-114">Como alternativa, puede usar la `eval()` función en un entorno de espacio [aislado.][ChromeDeveloperDocsExtensionsMv2Sandboxingeval]</span><span class="sxs-lookup"><span data-stu-id="11714-114">Alternatively, you may use the `eval()` function in a [sandboxed environment][ChromeDeveloperDocsExtensionsMv2Sandboxingeval].</span></span>  

## <a name="run-time-host-permissions"></a><span data-ttu-id="11714-115">Permisos de host en tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="11714-115">Run-time host permissions</span></span>  

<span data-ttu-id="11714-116">En el momento de la instalación, las extensiones pueden solicitar permisos de información general para tener acceso a todos los sitios y contenido.</span><span class="sxs-lookup"><span data-stu-id="11714-116">At installation time, extensions may request blanket permissions to access all sites and content.</span></span>  <span data-ttu-id="11714-117">Estos permisos permiten que las extensiones funcionen con una intervención mínima y creen un riesgo para la privacidad y la seguridad de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="11714-117">These permissions allow extensions to operate with minimum intervention, and create a risk to user privacy and security.</span></span>  <span data-ttu-id="11714-118">Para mejorar la transparencia, el equipo Microsoft Edge de extensiones proporciona controles para que los usuarios permitan o restrinjan el acceso a sitios web en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="11714-118">To improve transparency, the Microsoft Edge extensions team provides controls for users to allow or restrict access to websites at runtime.</span></span>  

## <a name="cross-origin-requests-in-content-scripts"></a><span data-ttu-id="11714-119">Solicitudes entre orígenes en scripts de contenido</span><span class="sxs-lookup"><span data-stu-id="11714-119">Cross-origin requests in content scripts</span></span>  

<span data-ttu-id="11714-120">En la actualidad, los scripts de contenido solicitan acceso a cualquier origen, incluidos los orígenes que no están permitidos por el sitio web.</span><span class="sxs-lookup"><span data-stu-id="11714-120">Today, content scripts request access to any origin including origins that aren't allowed by the website.</span></span>  <span data-ttu-id="11714-121">El comportamiento rompe los principios entre orígenes.</span><span class="sxs-lookup"><span data-stu-id="11714-121">The behavior breaks cross-origin principles.</span></span>  <span data-ttu-id="11714-122">En el futuro, el equipo Microsoft Edge de extensiones de contenido requiere que los scripts de contenido tengan los mismos permisos que la página web en la que se insertan los scripts, lo que cierra un posible resquicio de seguridad.</span><span class="sxs-lookup"><span data-stu-id="11714-122">Going forward, the Microsoft Edge extensions team requires content scripts to have the same permissions as the webpage into which the scripts are injected, closing a potential security loophole.</span></span>  <span data-ttu-id="11714-123">Para realizar solicitudes entre orígenes, debe usar scripts en segundo plano para retransmitir respuestas a scripts de contenido.</span><span class="sxs-lookup"><span data-stu-id="11714-123">To perform cross-origin requests, you need to use background scripts to relay responses back to content scripts.</span></span>  <span data-ttu-id="11714-124">Estos cambios están disponibles y detrás de una marca.</span><span class="sxs-lookup"><span data-stu-id="11714-124">These changes are available and behind a flag.</span></span>  <span data-ttu-id="11714-125">Para obtener más información, vaya a este [documento][ChromiumHomeChromiumSecurityExtensionContentScriptFetches].</span><span class="sxs-lookup"><span data-stu-id="11714-125">For more information, navigate to this [document][ChromiumHomeChromiumSecurityExtensionContentScriptFetches].</span></span>  

## <a name="web-request-api"></a><span data-ttu-id="11714-126">API de solicitud web</span><span class="sxs-lookup"><span data-stu-id="11714-126">Web Request API</span></span>  

<span data-ttu-id="11714-127">El equipo Microsoft Edge de extensiones de web reemplaza la API de solicitud web por [la][ChromeDeveloperDocsExtensionsReferenceDeclarativenetrequest] [API][ChromeDeveloperDocsExtensionsReferenceWebrequest] declarativa de solicitud neta, pero sigue manteniendo las capacidades de observación de la API de solicitud web.</span><span class="sxs-lookup"><span data-stu-id="11714-127">The Microsoft Edge extensions team replaces [Web Request API][ChromeDeveloperDocsExtensionsReferenceWebrequest] with [Declarative Net Request API][ChromeDeveloperDocsExtensionsReferenceDeclarativenetrequest], but continues to keep the observational capabilities of the Web Request API.</span></span>  <span data-ttu-id="11714-128">Excepto en algunos escenarios específicos en los que la extensión requiere capacidades de observación de la API de solicitud web, el equipo de extensiones de Microsoft Edge recomienda usar solo las API de DNR.</span><span class="sxs-lookup"><span data-stu-id="11714-128">Except in some specific scenarios where observational capabilities of the Web Request API are required by the extension, the Microsoft Edge extensions team recommends using the DNR APIs only.</span></span>  <span data-ttu-id="11714-129">El Microsoft Edge de extensiones cree que este cambio tendrá un impacto positivo en las extensiones que usan funcionalidades declarativas enriquecibles con características.</span><span class="sxs-lookup"><span data-stu-id="11714-129">The Microsoft Edge extensions team believes this change will have positive impact on extensions that use feature-rich declarative capabilities.</span></span>  <span data-ttu-id="11714-130">A medida que más extensiones se desvían a las API de DNR, este cambio mejorará la privacidad del usuario, lo que contribuye a aumentar la confianza en el uso de extensiones.</span><span class="sxs-lookup"><span data-stu-id="11714-130">As more extensions transition to the DNR APIs, this change will improve user privacy, which contributes to enhancing trust in the use of extensions.</span></span>  
<span data-ttu-id="11714-131">Las empresas pueden seguir usando el comportamiento de bloqueo de la API de solicitud web para extensiones administradas a través de directivas de empresa.</span><span class="sxs-lookup"><span data-stu-id="11714-131">Enterprises may continue to use the blocking behavior of the Web Request API for extensions managed through enterprise policies.</span></span>  <span data-ttu-id="11714-132">Para obtener más información acerca de las directivas de extensión, vaya [a Microsoft Edge – Directivas][DeployedgeMicrosoftEdgePoliciesExtensions].</span><span class="sxs-lookup"><span data-stu-id="11714-132">For more information about extension policies, navigate to [Microsoft Edge – Policies][DeployedgeMicrosoftEdgePoliciesExtensions].</span></span>  

## <a name="background-service-workers"></a><span data-ttu-id="11714-133">Trabajadores del servicio en segundo plano</span><span class="sxs-lookup"><span data-stu-id="11714-133">Background service workers</span></span>  
 
<span data-ttu-id="11714-134">Los trabajadores de servicio están disponibles para las pruebas en Canary.</span><span class="sxs-lookup"><span data-stu-id="11714-134">Service workers are available for testing in Canary.</span></span>  <span data-ttu-id="11714-135">Para migrar las extensiones de páginas en segundo plano a trabajadores de servicio, consulte Migración de páginas en segundo plano [a trabajadores de servicio.][ChromeDeveloperDocsExtensionsMv3MigratingToServiceWorkers]</span><span class="sxs-lookup"><span data-stu-id="11714-135">To migrate your extensions from background pages to service workers, refer to [Migrating from Background Pages to Service Workers][ChromeDeveloperDocsExtensionsMv3MigratingToServiceWorkers].</span></span>  <span data-ttu-id="11714-136">El Microsoft Edge de extensiones de usuario está evaluando e investigando el impacto que este cambio produce tanto para los desarrolladores como para los usuarios.</span><span class="sxs-lookup"><span data-stu-id="11714-136">The Microsoft Edge extensions team is evaluating and investigating the impact that this change brings to both developers and users.</span></span>  <span data-ttu-id="11714-137">El Microsoft Edge de extensiones agrega detalles adicionales sobre el cambio en este documento en el futuro.</span><span class="sxs-lookup"><span data-stu-id="11714-137">The Microsoft Edge extensions team adds additional details on the change to this document in the future.</span></span>  

## <a name="when-are-these-changes-available-in-microsoft-edge"></a><span data-ttu-id="11714-138">¿Cuándo están disponibles estos cambios en Microsoft Edge</span><span class="sxs-lookup"><span data-stu-id="11714-138">When are these changes available in Microsoft Edge</span></span>  

<span data-ttu-id="11714-139">La implementación de la API de solicitud neta declarativa actual está disponible en nuestros canales Estable y Beta.</span><span class="sxs-lookup"><span data-stu-id="11714-139">The current declarative net request API implementation is available in our Stable and Beta channels.</span></span>  <span data-ttu-id="11714-140">Pruebe los cambios y proporcione comentarios.</span><span class="sxs-lookup"><span data-stu-id="11714-140">Test the changes, and provide feedback.</span></span>  <span data-ttu-id="11714-141">El Microsoft Edge de extensiones contribuye a los esfuerzos de desarrollo e investiga más cambios.</span><span class="sxs-lookup"><span data-stu-id="11714-141">The Microsoft Edge extensions team contributes to development efforts and investigate further changes.</span></span>  

| <span data-ttu-id="11714-142">Nombre del canal</span><span class="sxs-lookup"><span data-stu-id="11714-142">Channel name</span></span> | <span data-ttu-id="11714-143">Detalles</span><span class="sxs-lookup"><span data-stu-id="11714-143">Details</span></span> |  
|:--- |:--- |  
| <span data-ttu-id="11714-144">Microsoft Edge 84 Estable</span><span class="sxs-lookup"><span data-stu-id="11714-144">Microsoft Edge 84 Stable</span></span> | <span data-ttu-id="11714-145">La API de DNR está disponible para pruebas</span><span class="sxs-lookup"><span data-stu-id="11714-145">DNR API is available for testing</span></span> |  
| <span data-ttu-id="11714-146">Microsoft Edge 85 Beta</span><span class="sxs-lookup"><span data-stu-id="11714-146">Microsoft Edge 85 Beta</span></span> | <span data-ttu-id="11714-147">La compatibilidad con la modificación de encabezados está disponible</span><span class="sxs-lookup"><span data-stu-id="11714-147">Header modification support is available</span></span>|  

<span data-ttu-id="11714-148">Cuando se realizan los cambios en Chromium, el equipo de extensiones de Microsoft Edge comparte escalas de tiempo para que pueda actualizar el código y volver a publicar extensiones en el almacén.</span><span class="sxs-lookup"><span data-stu-id="11714-148">When the changes are made to Chromium, the Microsoft Edge extensions team shares timelines so that you may update your code and republish extensions to the store.</span></span>  

<span data-ttu-id="11714-149">El Microsoft Edge de extensiones continúa publicando actualizaciones en el blog.</span><span class="sxs-lookup"><span data-stu-id="11714-149">The Microsoft Edge extensions team continues publishing updates on the blog.</span></span>  <span data-ttu-id="11714-150">Puede proporcionar sus comentarios sobre los cambios a través de [tech Community][MicrosoftTechcommunityT5ArticlesManifestV3ChnagesAreNowAvailableInMicrosoftEdgeMP1780254].</span><span class="sxs-lookup"><span data-stu-id="11714-150">You may provide your feedback on the changes through [Tech Community][MicrosoftTechcommunityT5ArticlesManifestV3ChnagesAreNowAvailableInMicrosoftEdgeMP1780254].</span></span>

<!-- links -->  

[DeployedgeMicrosoftEdgePoliciesExtensions]: /deployedge/microsoft-edge-policies#extensions "Extensiones - Microsoft Edge: directivas | Microsoft Docs"  

[MicrosoftMicrosoftedgeAddons]: https://microsoftedge.microsoft.com/addons "Microsoft Edge Complementos"  

[MicrosoftTechcommunityT5ArticlesManifestV3ChnagesAreNowAvailableInMicrosoftEdgeMP1780254]: https://techcommunity.microsoft.com/t5/articles/manifest-v3-changes-are-now-available-in-microsoft-edge/m-p/1780254 "Los cambios del manifiesto V3 ya están disponibles en Microsoft Edge | Microsoft Tech Community"  

[ChromeDeveloperDocsExtensionsMv2Sandboxingeval]: https://developer.chrome.com/docs/extensions/mv2/sandboxingEval "Uso de eval en extensiones de Chrome | Desarrolladores de Chrome"  
[ChromeDeveloperDocsExtensionsMv3MigratingToServiceWorkers]:  https://developer.chrome.com/docs/extensions/mv3/migrating_to_service_workers "Migración de páginas en segundo plano a trabajadores de servicio | Desarrolladores de Chrome"  
[ChromeDeveloperDocsExtensionsMv3Mv3MigrationChecklist]: https://developer.chrome.com/docs/extensions/mv3/mv3-migration-checklist "Lista de comprobación de migración de manifiesto V3 | Desarrolladores de Chrome"    

[ChromeDeveloperDocsExtensionsReferenceDeclarativenetrequest]: https://developer.chrome.com/docs/extensions/reference/declarativeNetRequest "chrome.declarativeNetRequest | Desarrolladores de Chrome"  
[ChromeDeveloperDocsExtensionsReferenceWebrequest]: https://developer.chrome.com/docs/extensions/reference/webRequest "chrome.webRequest | Desarrolladores de Chrome"  

[ChromiumHomeChromiumSecurityExtensionContentScriptFetches]: https://www.chromium.org/Home/chromium-security/extension-content-script-fetches "Cambios en solicitudes entre orígenes en scripts de contenido de extensión de Chrome | The Chromium Projects"  
